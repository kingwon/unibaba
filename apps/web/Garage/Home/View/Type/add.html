<h1>{:$Think.ACTION_NAME ==='edit' ? '编辑' : '新增'}维修项目</h1>

<div class="row" id="edit">
    <form method="post" action="{:U('Type/save')}"
        data-ajax-save-oncompleted="onAjaxSaveCompleted"
        widget="ajax-save validation"
        >
        <input type="hidden" name="type_id" value="{$data.type_id}">
        <table class="table table-input">
            <colgroup>
                <col width="1">
                <col width="100">
            </colgroup>
            <tbody>
            <tr>
                <td class="icon"><div></div></td>
                <td class="key"><div>维修项目名称：</div></td>
                <td class="value">
                    <div>
                        <input type="text" class="form-control"
                               name="type_name"
                               value="{$data.type_name}" 
                               data-required="true"
                               data-required-message="非空"
                               data-error-container="#tipsCn"
                                >
                        <span class="error" id="tipsCn"></span>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="icon"><div></div></td>
                <td class="key"><div>维修项目说明</div></td>
                <td class="value">
                    <div>
                        <textarea name="type_describe" class="form-control" style="width:200px;height:100px;">{$data.type_describe}</textarea>
                    </div>
                </td>
            </tr>
            <tr>
                <td class="icon"><div></div></td>
                <td class="key"><div>项目基本收费：</div></td>
                <td class="value">
                    <div>
                        <input type="text" class="form-control"
                               name="type_base_charge"
                               value="{$data.type_base_charge}" 
                               data-required="true"
                               data-required-message="非空"
                               data-error-container="#tipsAlp"
                                >
                        <span class="error" id="tipsAlp"></span>
                    </div>
                </td>
            </tr>
            </tbody>
        </table>
        <div class="op">
            <input type="submit" class="btn btn-default" value="保存">
            <a class="btn btn-warning" href="">取消</a>
        </div>
    </form>
</div>
<script>
    function onAjaxSaveCompleted(obj) {
        if (obj.json.error) {
            util.modal({
                body: obj.json.message
            });
        } else {
            window.location.href = obj.json.data;
        }
        return false;
    }
</script>